<!DOCTYPE html>

<html>
<head>
  <style>
    span {
      background-color: lightgrey;
      margin: 1px;
    }
    span.string {
      background-color: pink;
    }
    span.comment {
      background-color: green;
    }
    span.block {
      background-color: #8ccbde;
    }
    span.function {
      background-color: purple;
      color: white;
    }
    span.package {
      background-color: red;
      color: white;
    }
  </style>

</head>
<body>
  <div id="page"></div>
  <script type="module">
    import {
      Lexer
    } from "./lexer.js";
    let code = `
    # A simple Perl script demonstrating various token types

    use strict;          # Load strict mode for better coding practices
    use warnings;        # Enable warnings
    package authlib;
    # Variable declarations
    my $scalar = 42;          # Scalar variable
    my @array = (1, 2, 3);    # Array variable
    my %hash = (              # Hash variable
    key1 => 'value1',
    key2 => 'value2'
    );

    # String concatenation and repetition
    my $name = "Alice";
    my $greeting = "Hello, " . $name . "!" x 2;

    # Arithmetic operations
    my $sum = 5 + 10 - 3 * 2 / 4 % 3;

    # Comparison operators
    if ($scalar == 42 && $name ne "Bob") {
    print "Scalar is 42 and name is not Bob.\\n";
    }

    # Regular expression matching
    if ($name =~ /A/i) {
    print "$name contains an A.\\n";
    }

    # Subroutine definition and call
    sub greet {
    my ($person) = @_;
    print "Greetings, $person!\\n";
    }
    my $x = 1 + 1;
    greet($name);
    1;
    # Ternary operator
    my $status = ($scalar > 40) ? "High" : "Low";

    # File reading with angle brackets
    open my $file, '<', 'example.txt' or die "Cannot open file: $!";
    while (my $line = <$file>) {
    chomp($line); # Remove newline character
    print "Line: $line\\n";
    }
    close $file;

    # Loop through arrays and hashes
    foreach my $item (@array) {
    print "Array item: $item\\n";
    }

    foreach my $key (keys %hash) {
    print "$key => $hash{$key}\\n";
    }

    # Anonymous subroutine and dereferencing
    my $add = sub {
    my ($x, $y) = @_;
    return $x + $y;
    };
    print "Sum: " . $add->(2, 3) . "\\n";

    # Commented-out code and special characters
    # This line won't run: print "Hidden message";

    # Multi-line string using qq
    my $message = qq{
    This is a multi-line string.
    It preserves line breaks and spacing.
    };

    print $message;

    `;
    code = " my @array = (1, 2, 3);";
    try {
      const lexer = new Lexer();
      lexer.parse(code);
    }catch(e) {
      console.error(e)
    }







  </script>

</body>
</html>